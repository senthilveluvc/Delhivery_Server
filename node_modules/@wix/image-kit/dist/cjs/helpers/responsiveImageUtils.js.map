{"version":3,"names":["_max","require","getResponsiveImageProps","imageProps","targetWidth","targetHeight","_srcset$dpr","displayMode","uri","width","height","name","crop","focalPoint","alignType","quality","upscaleMethod","hasAnimation","allowAnimatedTransform","encoding","srcset","css","src","getData","id","alignment","useSrcset","srcsetWithPrefix","dpr","map","s","test","STATIC_MEDIA_URL","fallbackSrc","srcsetString","join","exports"],"sources":["../../../src/helpers/responsiveImageUtils.ts"],"sourcesContent":["import { getData, STATIC_MEDIA_URL } from '../api/max';\n\nexport const getResponsiveImageProps = (\n  imageProps: Record<string, any>,\n  targetWidth: number,\n  targetHeight: number,\n) => {\n  const {\n    displayMode,\n    uri,\n    width,\n    height,\n    name,\n    crop,\n    focalPoint,\n    alignType,\n    quality,\n    upscaleMethod,\n    hasAnimation,\n    allowAnimatedTransform,\n    encoding,\n  } = imageProps;\n\n  const {\n    srcset,\n    css,\n    uri: src,\n  } = getData(\n    displayMode,\n    { id: uri as string, width, height, name, crop, focalPoint },\n    {\n      width: targetWidth as number,\n      height: targetHeight as number,\n      alignment: alignType,\n    },\n    {\n      focalPoint,\n      name,\n      quality: quality?.quality,\n      upscaleMethod,\n      hasAnimation,\n      allowAnimatedTransform,\n      useSrcset: true,\n      encoding,\n    },\n  );\n\n  const srcsetWithPrefix = srcset?.dpr?.map((s: string) =>\n    /^[a-z]+:/.test(s) ? s : `${STATIC_MEDIA_URL}${s}`,\n  );\n\n  const fallbackSrc = `${STATIC_MEDIA_URL}${src}`;\n  const srcsetString = srcsetWithPrefix?.join(', ');\n\n  return {\n    fallbackSrc,\n    srcset: srcsetString,\n    css,\n  };\n};\n"],"mappings":";;;;AAAA,IAAAA,IAAA,GAAAC,OAAA;AAEO,MAAMC,uBAAuB,GAAGA,CACrCC,UAA+B,EAC/BC,WAAmB,EACnBC,YAAoB,KACjB;EAAA,IAAAC,WAAA;EACH,MAAM;IACJC,WAAW;IACXC,GAAG;IACHC,KAAK;IACLC,MAAM;IACNC,IAAI;IACJC,IAAI;IACJC,UAAU;IACVC,SAAS;IACTC,OAAO;IACPC,aAAa;IACbC,YAAY;IACZC,sBAAsB;IACtBC;EACF,CAAC,GAAGhB,UAAU;EAEd,MAAM;IACJiB,MAAM;IACNC,GAAG;IACHb,GAAG,EAAEc;EACP,CAAC,GAAG,IAAAC,YAAO,EACThB,WAAW,EACX;IAAEiB,EAAE,EAAEhB,GAAa;IAAEC,KAAK;IAAEC,MAAM;IAAEC,IAAI;IAAEC,IAAI;IAAEC;EAAW,CAAC,EAC5D;IACEJ,KAAK,EAAEL,WAAqB;IAC5BM,MAAM,EAAEL,YAAsB;IAC9BoB,SAAS,EAAEX;EACb,CAAC,EACD;IACED,UAAU;IACVF,IAAI;IACJI,OAAO,EAAEA,OAAO,oBAAPA,OAAO,CAAEA,OAAO;IACzBC,aAAa;IACbC,YAAY;IACZC,sBAAsB;IACtBQ,SAAS,EAAE,IAAI;IACfP;EACF,CACF,CAAC;EAED,MAAMQ,gBAAgB,GAAGP,MAAM,aAAAd,WAAA,GAANc,MAAM,CAAEQ,GAAG,qBAAXtB,WAAA,CAAauB,GAAG,CAAEC,CAAS,IAClD,UAAU,CAACC,IAAI,CAACD,CAAC,CAAC,GAAGA,CAAC,GAAG,GAAGE,qBAAgB,GAAGF,CAAC,EAClD,CAAC;EAED,MAAMG,WAAW,GAAG,GAAGD,qBAAgB,GAAGV,GAAG,EAAE;EAC/C,MAAMY,YAAY,GAAGP,gBAAgB,oBAAhBA,gBAAgB,CAAEQ,IAAI,CAAC,IAAI,CAAC;EAEjD,OAAO;IACLF,WAAW;IACXb,MAAM,EAAEc,YAAY;IACpBb;EACF,CAAC;AACH,CAAC;AAACe,OAAA,CAAAlC,uBAAA,GAAAA,uBAAA","ignoreList":[]}